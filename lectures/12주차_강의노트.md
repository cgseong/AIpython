# 파이썬 함수 완전 정복 - 체계적 학습 가이드

## 🎯 학습 목표 (Learning Objectives)

본 강의를 통해 다음과 같은 핵심 능력을 습득할 수 있습니다:

✅ **함수의 정의와 프로그래밍에서의 역할 이해**  
✅ **함수 선언(Function Declaration)과 호출(Function Call) 메커니즘 습득**  
✅ **매개변수(Parameters)와 인수(Arguments)의 구별 및 활용**  
✅ **반환값(Return Value) 처리 및 활용 방법**  
✅ **스코프(Scope)와 네임스페이스(Namespace) 개념 이해**

---

## 📚 Chapter 1: 함수의 기본 개념과 정의

### 🔍 1.1 함수란 무엇인가?

**함수(Function)**는 특정 작업을 수행하는 재사용 가능한 코드 블록입니다. 수학의 함수와 유사하게 입력값을 받아 처리한 후 결과를 반환합니다.

#### 📊 함수의 개념도
```
입력(Input) → 함수(Function) → 출력(Output)
     ↓              ↓              ↓
  인수(Arguments) → 처리 과정 → 반환값(Return Value)
```

### 🎯 1.2 함수의 필요성과 프로그래밍에서의 역할

**코드 재사용성(Code Reusability)**
- 동일한 작업을 여러 번 수행할 때 함수를 재사용하여 효율성 증대
- 중복 코드 제거로 프로그램 크기 축소

**모듈화(Modularization)**
- 복잡한 프로그램을 작은 기능 단위로 분할
- 각 함수가 독립적인 책임을 가져 유지보수 용이

**추상화(Abstraction)**
- 복잡한 구현 세부사항을 숨기고 간단한 인터페이스 제공
- 코드의 가독성과 이해도 향상

### 📝 1.3 함수의 기본 구조

```python
def 함수명(매개변수1, 매개변수2, ...):
    """
    함수 설명 (Docstring)
    - 함수의 목적과 기능 설명
    - 매개변수 설명
    - 반환값 설명
    """
    # 함수 본문 (Function Body)
    처리 코드
    return 반환값  # 선택적 반환문
```

### 💻 1.4 코드 예제

**예제 1: 기본적인 인사 함수**
```python
def greet_user(name):
    """사용자에게 개인화된 인사를 하는 함수
    
    Args:
        name (str): 인사할 사용자의 이름
    
    Returns:
        str: 개인화된 인사 메시지
    """
    # 인사 메시지 생성
    greeting_message = f"안녕하세요, {name}님! 파이썬 함수 학습을 환영합니다."
    return greeting_message

# 함수 호출 및 결과 활용
user_name = "김철수"
message = greet_user(user_name)
print(message)
# 출력: 안녕하세요, 김철수님! 파이썬 함수 학습을 환영합니다.
```

**예제 2: 원의 넓이 계산 함수**
```python
def calculate_circle_area(radius):
    """원의 반지름을 받아 넓이를 계산하는 함수
    
    Args:
        radius (float): 원의 반지름
    
    Returns:
        float: 원의 넓이
    """
    # 원주율 상수 정의
    PI = 3.14159
    
    # 넓이 계산: π × r²
    area = PI * radius * radius
    
    # 소수점 둘째 자리까지 반올림하여 반환
    return round(area, 2)

# 함수 활용 예제
radius_input = 5
circle_area = calculate_circle_area(radius_input)
print(f"반지름 {radius_input}인 원의 넓이: {circle_area}")
# 출력: 반지름 5인 원의 넓이: 78.54
```

### 🚨 1.5 일반적인 오류 사례 (Common Pitfalls)

**오류 1: 함수 정의 전 호출**
```python
# ❌ 잘못된 예제
print(hello_world())  # NameError: name 'hello_world' is not defined

def hello_world():
    return "Hello, World!"

# ✅ 올바른 예제
def hello_world():
    return "Hello, World!"

print(hello_world())  # Hello, World!
```

**해결책**: 함수를 호출하기 전에 반드시 함수를 정의해야 합니다.

---

## 📚 Chapter 2: 함수 선언과 호출 메커니즘

### 🔍 2.1 함수 선언(Function Declaration) 과정

함수 선언은 `def` 키워드를 사용하여 함수를 정의하는 과정입니다.

#### 📊 함수 선언 단계별 분석
```
1. def 키워드        →  함수 정의 시작
2. 함수명            →  함수 식별자
3. 매개변수 목록     →  입력 인터페이스 정의
4. 콜론(:)          →  함수 본문 시작 표시
5. 독스트링         →  함수 설명 (선택적)
6. 함수 본문        →  실제 처리 로직
7. return 문        →  결과 반환 (선택적)
```

### 🎯 2.2 함수 호출(Function Call) 메커니즘

함수 호출은 정의된 함수를 실행하여 결과를 얻는 과정입니다.

#### 📊 함수 호출 실행 흐름
```
1. 함수명 인식       →  호출할 함수 확인
2. 인수 전달        →  매개변수에 값 할당
3. 함수 본문 실행   →  코드 순차 실행
4. 결과 반환        →  호출 지점으로 복귀
5. 반환값 활용      →  결과 처리
```

### 💻 2.3 코드 예제

**예제 1: 온도 변환 함수**
```python
def celsius_to_fahrenheit(celsius):
    """섭씨를 화씨로 변환하는 함수
    
    Args:
        celsius (float): 섭씨 온도
    
    Returns:
        float: 화씨 온도
    """
    # 화씨 변환 공식: (C × 9/5) + 32
    fahrenheit = (celsius * 9/5) + 32
    return fahrenheit

def fahrenheit_to_celsius(fahrenheit):
    """화씨를 섭씨로 변환하는 함수
    
    Args:
        fahrenheit (float): 화씨 온도
    
    Returns:
        float: 섭씨 온도
    """
    # 섭씨 변환 공식: (F - 32) × 5/9
    celsius = (fahrenheit - 32) * 5/9
    return celsius

# 함수 호출 및 결과 활용
temp_celsius = 25
temp_fahrenheit = celsius_to_fahrenheit(temp_celsius)
print(f"섭씨 {temp_celsius}도 = 화씨 {temp_fahrenheit}도")

# 역변환 확인
back_to_celsius = fahrenheit_to_celsius(temp_fahrenheit)
print(f"화씨 {temp_fahrenheit}도 = 섭씨 {back_to_celsius}도")
```

**예제 2: 학생 성적 관리 함수**
```python
def calculate_grade_info(student_name, scores):
    """학생의 성적 정보를 계산하는 함수
    
    Args:
        student_name (str): 학생 이름
        scores (list): 점수 리스트
    
    Returns:
        dict: 성적 정보 딕셔너리
    """
    # 기본 통계 계산
    total_score = sum(scores)
    subject_count = len(scores)
    average = total_score / subject_count if subject_count > 0 else 0
    
    # 학점 계산
    if average >= 90:
        grade = 'A'
    elif average >= 80:
        grade = 'B'
    elif average >= 70:
        grade = 'C'
    elif average >= 60:
        grade = 'D'
    else:
        grade = 'F'
    
    # 결과 딕셔너리 생성
    grade_info = {
        'name': student_name,
        'scores': scores,
        'total': total_score,
        'average': round(average, 2),
        'grade': grade,
        'subject_count': subject_count
    }
    
    return grade_info

def display_grade_report(grade_info):
    """성적 정보를 출력하는 함수
    
    Args:
        grade_info (dict): calculate_grade_info에서 반환된 성적 정보
    """
    print("=" * 40)
    print(f"학생 이름: {grade_info['name']}")
    print(f"과목 수: {grade_info['subject_count']}")
    print(f"점수 목록: {grade_info['scores']}")
    print(f"총점: {grade_info['total']}")
    print(f"평균: {grade_info['average']}")
    print(f"학점: {grade_info['grade']}")
    print("=" * 40)

# 함수 연쇄 호출 예제
student_scores = [85, 92, 78, 96, 88]
grade_result = calculate_grade_info("이영희", student_scores)
display_grade_report(grade_result)
```

### 🚨 2.4 일반적인 오류 사례 (Common Pitfalls)

**오류 1: 들여쓰기 오류 (IndentationError)**
```python
# ❌ 잘못된 예제
def my_function():
print("Hello")  # IndentationError: expected an indented block

# ✅ 올바른 예제
def my_function():
    print("Hello")  # 올바른 들여쓰기 (4칸 또는 탭)
```

**오류 2: 함수명 충돌**
```python
# ❌ 잘못된 예제 - 내장 함수명 사용
def print():  # 내장 print 함수를 덮어씀
    return "My custom print"

# ✅ 올바른 예제 - 명확한 함수명 사용
def custom_print():
    return "My custom print"
```

---

## 📚 Chapter 3: 매개변수와 인수의 구별 및 활용

### 🔍 3.1 매개변수 vs 인수의 개념적 차이

#### 📊 매개변수와 인수 비교표
| 구분 | 매개변수 (Parameters) | 인수 (Arguments) |
|------|---------------------|------------------|
| 정의 시점 | 함수 정의 시 | 함수 호출 시 |
| 역할 | 입력 형태 정의 | 실제 전달 값 |
| 위치 | 함수 헤더 | 함수 호출부 |

```python
def greet(name, age):     # 'name', 'age'는 매개변수
    return f"안녕하세요, {age}세 {name}님!"

message = greet("홍길동", 25)  # "홍길동", 25는 인수
```

### 🎯 3.2 매개변수의 다양한 형태

**위치 매개변수 (Positional Parameters)**
```python
def calculate_rectangle_area(width, height):
    """직사각형 넓이 계산 - 위치가 중요함"""
    return width * height

area = calculate_rectangle_area(5, 3)  # width=5, height=3
```

**기본값 매개변수 (Default Parameters)**
```python
def create_user_profile(name, age=18, city="서울"):
    """사용자 프로필 생성 - 기본값 제공"""
    return f"{name} ({age}세, {city} 거주)"

profile1 = create_user_profile("김철수")              # 기본값 사용
profile2 = create_user_profile("이영희", 25)          # age만 변경
profile3 = create_user_profile("박민수", 30, "부산")   # 모든 값 지정
```

### 💻 3.3 코드 예제

**예제 1: 쇼핑몰 주문 시스템**
```python
def create_order(customer_name, product_name, quantity=1, discount_rate=0.0):
    """주문 정보를 생성하는 함수
    
    Args:
        customer_name (str): 고객 이름
        product_name (str): 상품명
        quantity (int, optional): 수량. 기본값 1
        discount_rate (float, optional): 할인율 (0.0-1.0). 기본값 0.0
    
    Returns:
        dict: 주문 정보
    """
    # 기본 가격 설정 (예시)
    base_price = 10000
    
    # 총 가격 계산
    subtotal = base_price * quantity
    discount_amount = subtotal * discount_rate
    final_price = subtotal - discount_amount
    
    # 주문 정보 딕셔너리 생성
    order_info = {
        'customer': customer_name,
        'product': product_name,
        'quantity': quantity,
        'base_price': base_price,
        'subtotal': subtotal,
        'discount_rate': discount_rate,
        'discount_amount': discount_amount,
        'final_price': final_price
    }
    
    return order_info

def print_order_summary(order):
    """주문 요약 정보를 출력하는 함수
    
    Args:
        order (dict): create_order에서 반환된 주문 정보
    """
    print(f"\n=== 주문 요약 ===")
    print(f"고객명: {order['customer']}")
    print(f"상품명: {order['product']}")
    print(f"수량: {order['quantity']}개")
    print(f"단가: {order['base_price']:,}원")
    print(f"소계: {order['subtotal']:,}원")
    if order['discount_rate'] > 0:
        print(f"할인율: {order['discount_rate']*100}%")
        print(f"할인금액: {order['discount_amount']:,}원")
    print(f"최종 금액: {order['final_price']:,}원")
    print("=" * 20)

# 다양한 방식으로 함수 호출
order1 = create_order("김고객", "노트북")
order2 = create_order("이고객", "마우스", 3)
order3 = create_order("박고객", "키보드", 2, 0.1)

# 주문 정보 출력
print_order_summary(order1)
print_order_summary(order2)
print_order_summary(order3)
```

**예제 2: 가변 인수를 활용한 통계 함수**
```python
def calculate_statistics(*numbers, **options):
    """가변 인수를 받아 통계를 계산하는 함수
    
    Args:
        *numbers: 계산할 숫자들 (가변 위치 인수)
        **options: 계산 옵션들 (가변 키워드 인수)
    
    Returns:
        dict: 통계 결과
    """
    if not numbers:
        return {"error": "숫자가 제공되지 않았습니다."}
    
    # 기본 통계 계산
    count = len(numbers)
    total = sum(numbers)
    average = total / count
    minimum = min(numbers)
    maximum = max(numbers)
    
    # 기본 결과 딕셔너리
    result = {
        'count': count,
        'sum': total,
        'average': round(average, 2),
        'min': minimum,
        'max': maximum,
        'range': maximum - minimum
    }
    
    # 옵션에 따른 추가 계산
    if options.get('include_median', False):
        sorted_numbers = sorted(numbers)
        if count % 2 == 0:
            median = (sorted_numbers[count//2 - 1] + sorted_numbers[count//2]) / 2
        else:
            median = sorted_numbers[count//2]
        result['median'] = median
    
    if options.get('include_variance', False):
        # 분산 계산
        variance = sum((x - average) ** 2 for x in numbers) / count
        result['variance'] = round(variance, 2)
        result['std_deviation'] = round(variance ** 0.5, 2)
    
    return result

def display_statistics(stats):
    """통계 결과를 보기 좋게 출력하는 함수"""
    if 'error' in stats:
        print(f"오류: {stats['error']}")
        return
    
    print("\n=== 통계 결과 ===")
    for key, value in stats.items():
        korean_names = {
            'count': '개수',
            'sum': '합계',
            'average': '평균',
            'min': '최솟값',
            'max': '최댓값',
            'range': '범위',
            'median': '중앙값',
            'variance': '분산',
            'std_deviation': '표준편차'
        }
        print(f"{korean_names.get(key, key)}: {value}")
    print("=" * 20)

# 함수 활용 예제
test_scores = [85, 92, 78, 96, 88, 91, 87, 83, 95, 89]

# 기본 통계
basic_stats = calculate_statistics(*test_scores)
display_statistics(basic_stats)

# 중앙값 포함
median_stats = calculate_statistics(*test_scores, include_median=True)
display_statistics(median_stats)

# 분산과 표준편차 포함
full_stats = calculate_statistics(*test_scores, include_median=True, include_variance=True)
display_statistics(full_stats)
```

### 🚨 3.4 일반적인 오류 사례 (Common Pitfalls)

**오류 1: 위치 인수와 키워드 인수 순서 문제**
```python
# ❌ 잘못된 예제
def calculate_price(base_price, quantity, discount):
    return base_price * quantity * (1 - discount)

# SyntaxError: positional argument follows keyword argument
# result = calculate_price(base_price=100, 2, 0.1)

# ✅ 올바른 예제
result1 = calculate_price(100, 2, 0.1)              # 모두 위치 인수
result2 = calculate_price(base_price=100, quantity=2, discount=0.1)  # 모두 키워드 인수
result3 = calculate_price(100, quantity=2, discount=0.1)  # 혼합 (위치 인수 먼저)
```

---

## 📚 Chapter 4: 반환값 처리 및 활용 방법

### 🔍 4.1 반환값(Return Value)의 개념과 특징

**반환값**은 함수가 실행을 완료한 후 호출한 곳으로 돌려주는 결과값입니다.

#### 📊 반환값의 종류
```
1. 단일 값 반환      →  숫자, 문자열, 불린 등
2. 다중 값 반환      →  튜플, 리스트 등
3. 복합 객체 반환    →  딕셔너리, 객체 등
4. None 반환        →  명시적 또는 암시적
```

### 🎯 4.2 반환값 활용 패턴

**조건부 반환 (Conditional Return)**
```python
def check_password_strength(password):
    """비밀번호 강도를 검사하는 함수"""
    if len(password) < 8:
        return "약함", ["8자 이상 입력하세요"]
    
    issues = []
    if not any(c.isupper() for c in password):
        issues.append("대문자 포함")
    if not any(c.islower() for c in password):
        issues.append("소문자 포함")
    if not any(c.isdigit() for c in password):
        issues.append("숫자 포함")
    
    if not issues:
        return "강함", []
    elif len(issues) <= 1:
        return "보통", issues
    else:
        return "약함", issues
```

### 💻 4.3 코드 예제

**예제 1: 파일 처리 시스템**
```python
def read_and_process_file(filename):
    """파일을 읽고 처리하는 함수
    
    Args:
        filename (str): 읽을 파일명
    
    Returns:
        tuple: (성공 여부, 결과 데이터 또는 오류 메시지)
    """
    try:
        # 파일 존재 여부 확인
        import os
        if not os.path.exists(filename):
            return False, f"파일 '{filename}'을 찾을 수 없습니다."
        
        # 파일 읽기 시뮬레이션 (실제로는 파일 내용)
        file_content = f"Sample content from {filename}"
        
        # 파일 처리
        processed_data = {
            'filename': filename,
            'content_length': len(file_content),
            'word_count': len(file_content.split()),
            'first_words': file_content.split()[:5] if file_content else []
        }
        
        return True, processed_data
        
    except Exception as e:
        return False, f"파일 처리 중 오류 발생: {str(e)}"

def save_processed_data(data, output_filename):
    """처리된 데이터를 저장하는 함수
    
    Args:
        data (dict): 저장할 데이터
        output_filename (str): 출력 파일명
    
    Returns:
        bool: 저장 성공 여부
    """
    try:
        # 실제로는 파일에 저장하는 코드
        print(f"데이터가 '{output_filename}'에 저장되었습니다.")
        print(f"저장된 데이터: {data}")
        return True
    except Exception as e:
        print(f"저장 중 오류 발생: {e}")
        return False

# 함수 연쇄 활용 예제
def process_file_pipeline(input_file, output_file):
    """파일 처리 파이프라인 함수"""
    print(f"파일 처리 시작: {input_file}")
    
    # 1단계: 파일 읽기 및 처리
    success, result = read_and_process_file(input_file)
    
    if not success:
        print(f"오류: {result}")
        return False
    
    print("파일 읽기 성공!")
    
    # 2단계: 처리된 데이터 저장
    if save_processed_data(result, output_file):
        print("파일 처리 완료!")
        return True
    else:
        print("파일 저장 실패!")
        return False

# 파이프라인 실행
process_file_pipeline("input.txt", "output.txt")
```

**예제 2: 쇼핑카트 관리 시스템**
```python
def create_shopping_cart():
    """새로운 쇼핑카트를 생성하는 함수
    
    Returns:
        dict: 빈 쇼핑카트 딕셔너리
    """
    return {
        'items': [],
        'total_price': 0,
        'item_count': 0,
        'created_at': "2024-01-01"  # 실제로는 현재 시간
    }

def add_item_to_cart(cart, item_name, price, quantity=1):
    """쇼핑카트에 상품을 추가하는 함수
    
    Args:
        cart (dict): 쇼핑카트
        item_name (str): 상품명
        price (float): 상품 가격
        quantity (int): 수량
    
    Returns:
        tuple: (성공 여부, 업데이트된 카트 또는 오류 메시지)
    """
    # 입력 검증
    if price < 0:
        return False, "가격은 0 이상이어야 합니다."
    
    if quantity <= 0:
        return False, "수량은 1 이상이어야 합니다."
    
    # 기존 상품 확인
    for item in cart['items']:
        if item['name'] == item_name:
            item['quantity'] += quantity
            item['subtotal'] = item['price'] * item['quantity']
            break
    else:
        # 새 상품 추가
        new_item = {
            'name': item_name,
            'price': price,
            'quantity': quantity,
            'subtotal': price * quantity
        }
        cart['items'].append(new_item)
    
    # 카트 정보 업데이트
    cart['total_price'] = sum(item['subtotal'] for item in cart['items'])
    cart['item_count'] = sum(item['quantity'] for item in cart['items'])
    
    return True, cart

def get_cart_summary(cart):
    """쇼핑카트 요약 정보를 반환하는 함수
    
    Args:
        cart (dict): 쇼핑카트
    
    Returns:
        dict: 카트 요약 정보
    """
    if not cart['items']:
        return {
            'status': 'empty',
            'message': '카트가 비어있습니다.',
            'total_price': 0,
            'item_count': 0
        }
    
    most_expensive = max(cart['items'], key=lambda x: x['price'])
    
    return {
        'status': 'filled',
        'total_items': len(cart['items']),
        'total_quantity': cart['item_count'],
        'total_price': cart['total_price'],
        'average_item_price': cart['total_price'] / cart['item_count'],
        'most_expensive_item': most_expensive['name'],
        'items_list': [item['name'] for item in cart['items']]
    }

# 쇼핑카트 시스템 활용
my_cart = create_shopping_cart()
print("새 쇼핑카트가 생성되었습니다.")

# 상품 추가
success, result = add_item_to_cart(my_cart, "노트북", 1200000, 1)
if success:
    print("노트북이 추가되었습니다.")

success, result = add_item_to_cart(my_cart, "마우스", 50000, 2)
if success:
    print("마우스가 추가되었습니다.")

# 카트 요약 정보 출력
summary = get_cart_summary(my_cart)
print("\n=== 쇼핑카트 요약 ===")
for key, value in summary.items():
    print(f"{key}: {value}")
```

### 🚨 4.4 일반적인 오류 사례 (Common Pitfalls)

**오류 1: 조건부 반환에서 일부 경로에 return 문 누락**
```python
# ❌ 잘못된 예제
def divide_numbers(a, b):
    if b != 0:
        return a / b
    # else 경우에 return 문이 없어 None 반환

# ✅
